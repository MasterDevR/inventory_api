generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum role {
  RECEIVER
  APPROVER
  DEPARTMENT
}

enum supplyType {
  OFFICE
  OTHER
}

enum requestStatus {
  PENDING
  REVIEWING
  APPROVED
  PREPARING
  READY
  REJECTED
}

model userInformation {
  id         String               @id @unique @default(uuid())
  name       String?
  image      String?
  deptId     String               @unique // Primary key
  role       role
  deptCode   String               @unique
  department String               @unique
  email      String?              @unique
  password   String
  createdAt  DateTime             @default(now())
  updatedAt  DateTime             @updatedAt
  Request    requestInformation[]
}

model stockInformation {
  id              String   @id @unique @default(uuid())
  item            String
  price           Int
  description     String
  measurement     String
  stockNo         String   @unique
  reOrderPoint    String   @unique
  quantity        Int
  image           String
  reference       String
  consumeDate     Int
  distributor     String
  stockCounter    Int      @default(0)
  priceList       Json
  distributorList Json
  qtyList         Json
  dateList        Json
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model requestInformation {
  id             String          @id @unique @default(uuid())
  qty            Int
  unit           String
  description    String
  remarks        String
  purpose        String
  stockNo        String
  deptId         String
  requestType    supplyType?
  request_status requestStatus
  createAt       DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  request        userInformation @relation(fields: [deptId], references: [deptId])
}
